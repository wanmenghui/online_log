{"remainingRequest":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanmenghui/Desktop/base_project/src/components/Register.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/wanmenghui/Desktop/base_project/src/components/Register.vue","mtime":1657704494757},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbnRhaW5lciB7CiAgICB3aWR0aDogNDAwcHg7CiAgICB0ZXh0LWFsaWduOmNlbnRlcjsKICAgIG1hcmdpbjoxNSUgYXV0bzsKICB9CgogLnRleHQgewogICAgZm9udC1zaXplOiAxNHB4OwogIH0KCiAgLml0ZW0gewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB9CgogIC5wYXNzd29yZC1pdGVtIHsKICAgIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDsKICB9CgogIC5yZWdpc3QgewogICAgcmlnaHQ6IDI3JQogIH0KCiAgLmZvcmdldCB7CiAgICBsZWZ0OiAyOCUKICB9CgogIC5sb2dpblN0eWxlIHsKICAgIHdpZHRoOiAyMDBweDsKICAgIG1hcmdpbi10b3A6IDIwcHggIWltcG9ydGFudDsKICB9CgogIC50b3AtZGlzdGFuY2UtbWVkaXVtIHsKICAgIG1hcmdpbi10b3A6IDQwcHggIWltcG9ydGFudDsKICB9CgogIC50b3AtZGlzdGFuY2Utc21hbGwgewogICAgbWFyZ2luLXRvcDogMTBweCAhaW1wb3J0YW50OwogIH0KCiAgLm90aGVyV2F5IHsKICAgIHdpZHRoOiBhdXRvOwogICAgaGVpZ2h0OiBhdXRvOwogIH0KCiAgLm90aGVyV2F5OmhvdmVyIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICB9CgogIC5vdGhlclRleHQgewogICAgaGVpZ2h0OiAxM3B4ICFpbXBvcnRhbnQ7CiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDsKICAgIGNvbG9yOiAjYjViNWI1ICFpbXBvcnRhbnQ7CiAgfQoKICAuY2xlYXJmaXg6YmVmb3JlLAogIC5jbGVhcmZpeDphZnRlciB7CiAgICBkaXNwbGF5OiB0YWJsZTsKICAgIGNvbnRlbnQ6ICIiOwogIH0KICAuY2xlYXJmaXg6YWZ0ZXIgewogICAgY2xlYXI6IGJvdGgKICB9CgogIC5ib3gtY2FyZCB7CiAgICB3aWR0aDogNDgwcHg7CiAgfQoK"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <el-card class=\"box-card\" style=\"width: 380px\">\n      <div slot=\"header\" class=\"clearfix myheader\" style=\"padding: 5px auto\">\n        <div class=\"title\" style=\"text-align: center; font-size: 20px; color: #E6A23C; font-weight: 700\">注册</div>\n      </div>\n    <section>\n      <el-form\n        :model=\"ruleForm\"\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        label-width=\"100px\"\n        class=\"demo-ruleForm\">\n        <div class=\"text item demo-input-size top-distance-small\">\n        <el-form-item label=\"用户名\" prop=\"name\">\n          <el-input v-model=\"ruleForm.name\"\n           size=\"large\"\n           maxlength=\"18\"\n           placeholder=\"请输入用戶名\"\n           prefix-icon=\"el-icon-user-solid\"></el-input>\n        </el-form-item>\n        </div>\n        <el-form-item label=\"密码\" prop=\"pwd\">\n          <el-input v-model=\"ruleForm.pwd\" type=\"password\"\n          placeholder=\"请输入密码\"\n          show-password\n          maxlength=\"50\" show-word-limit \n          prefix-icon=\"el-icon-unlock\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"cpwd\">\n          <el-input v-model=\"ruleForm.cpwd\" type=\"password\"\n          placeholder=\"请再次输入密码\"\n          show-password\n          maxlength=\"50\" show-word-limit \n          prefix-icon=\"el-icon-unlock\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"ruleForm.email\"\n          placeholder=\"请输入邮箱\"\n          maxlength=\"50\" show-word-limit \n          prefix-icon=\"el-icon-message\"></el-input>\n        </el-form-item>\n        <el-form-item>\n        <div style=\"margin-left:-80px\">\n          <el-button class=\"loginStyle\"\n            type=\"primary\"\n            @click=\"register\">\n            注册\n          </el-button>\n          </div>\n          <div class=\"error\">{{ error }}</div>\n        </el-form-item>\n      </el-form>\n    </section>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport md5 from 'md5'\nexport default {\n  name: \"Register\",\n  layout: \"blank\",\n  data() {\n    return {\n      statusMsg: '',\n      error: '',\n      ruleForm: {\n        name: '',\n        pwd: '',\n        cpwd: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          type: 'string',\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          type: 'string',\n          message: '请输入邮箱',\n          trigger: 'blur'\n        },{\n          validator: (rule, value, callback) => {\n            var reg=/^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n            if(!reg.test(value)){\n              callback(new Error('请输入有效的邮箱'));\n            }else {\n              callback()\n            }\n          },\n          trigger: 'blur'\n        }],\n        pwd: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        cpwd: [{\n          required: true,\n          message: '确认密码有误，请重新输入',\n          trigger: 'blur'\n        }, {\n          validator: (rule, value, callback) => {\n            if (value === '') {\n              callback(new Error('请再次输入密码'))\n            } else if (value !== this.ruleForm.pwd) {\n              callback(new Error('两次输入密码不一致'))\n            } else {\n              callback()\n            }\n          },\n          trigger: 'blur'\n        }]\n      }\n    }\n  },\n  methods: {\n    sendMsg() {\n      const self = this\n      let namePass\n      if (self.timerid) {\n        return false\n      }\n      this.$refs.ruleForm.validateField('name', valid => {\n        namePass = valid\n      })\n      self.statusMsg = ''\n      if (namePass) {\n        return false\n      }\n      \n    },\n    register() {\n      let self = this\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          self.axios({\n            url: '/register',   \n            method: 'post',      \n            data: {              \n            username: self.ruleForm.name,\n            password: md5(self.ruleForm.pwd),\n            email:self.ruleForm.email\n            }\n        }).then(res=>{  \n            let data = res.data;       \n            if(data.success) {\n                self.$message({\n                  message: '注册成功',\n                  type: 'success'\n                });\n                self.$router.push({path: '/login'});  //跳转到登录页\n            }else {\n                if(data.error != null) {\n                  self.$message.error(data.error);\n                }else if(data.message != null) {\n                  self.$message.error(data.message);\n                }\n                \n            }\n        })\n        }\n      })\n    }\n  }\n}\n\n</script>\n\n<style >\n.container {\n    width: 400px;\n    text-align:center;\n    margin:15% auto;\n  }\n\n .text {\n    font-size: 14px;\n  }\n\n  .item {\n    margin-bottom: 20px;\n  }\n\n  .password-item {\n    margin-bottom: 10px !important;\n  }\n\n  .regist {\n    right: 27%\n  }\n\n  .forget {\n    left: 28%\n  }\n\n  .loginStyle {\n    width: 200px;\n    margin-top: 20px !important;\n  }\n\n  .top-distance-medium {\n    margin-top: 40px !important;\n  }\n\n  .top-distance-small {\n    margin-top: 10px !important;\n  }\n\n  .otherWay {\n    width: auto;\n    height: auto;\n  }\n\n  .otherWay:hover {\n    cursor: pointer;\n  }\n\n  .otherText {\n    height: 13px !important;\n    font-size: 12px !important;\n    color: #b5b5b5 !important;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    width: 480px;\n  }\n\n</style>\n"]}]}