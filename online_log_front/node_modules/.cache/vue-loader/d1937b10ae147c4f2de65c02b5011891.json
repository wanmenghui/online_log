{"remainingRequest":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanmenghui/Desktop/base_project/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wanmenghui/Desktop/base_project/src/components/Login.vue","mtime":1657704494757},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGlzTG9naW5nOiBmYWxzZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgICBsb2dpbkJ5UVE6IGZ1bmN0aW9uKCl7ICAvL1FR55m75b2VCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAvLyBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnUVHnmbvlvZXmmoLmnKrlvIDlkK/vvIzlsL3mlazor7fmnJ/lvoUnLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGxvZ2luQnlXZUNoYXQ6IGZ1bmN0aW9uKCl7ICAvL+W+ruS/oeeZu+W9lQogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgLy8gc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+W+ruS/oeeZu+W9leaaguacquW8gOWQr++8jOWwveaVrOivt+acn+W+hScsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgbG9naW46IGZ1bmN0aW9uKCl7ICAvL+eZu+W9leaWueazlQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgaWYodGhpcy51c2VybmFtZSA9PSAnJykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl55So5oi35ZCNJyk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9ZWxzZSBpZih0aGlzLnBhc3N3b3JkID09ICcnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fovpPlhaXlr4bnoIEnKTsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgICAgdXJsOiAnL2xvZ2luJywgICAKICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsICAgICAgCiAgICAgICAgICAgIGRhdGE6IHsgICAgICAgICAgICAgIAogICAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICAgICAgfQogICAgICAgIH0pLnRoZW4ocmVzPT57ICAKICAgICAgICAgICAgdGhpcy5pc0xvZ2luZyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOyAKICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsgICAgICAgCiAgICAgICAgICAgIGlmKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXmiJDlip8nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy/lsIbpnIDopoHnmoTmnYPpmZDnrYnkv6Hmga/lrZjlhaVzZXNzaW9uCiAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicm9sZSIsZGF0YS5yb2xlKTsKICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KHRoaXMudXNlcm5hbWUrImlzTG9naW4iLHRydWUpOwogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoInVzZXJuYW1lIix0aGlzLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyb2xlICAgICIgKyAgdGhpcy4kc2Vzc2lvbi5nZXQoInJvbGUiKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaXNMb2dpbiAgICAiICsgIHRoaXMuJHNlc3Npb24uZ2V0KHRoaXMudXNlcm5hbWUrImlzTG9naW4iKSk7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjb25maXJtJyx0aGlzLmlzTG9naW5nKQogICAgICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2Uoe3BhdGg6ICcvJ30pOyAgLy/ot7PovazliLDpppbpobUKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9ICcnOwogICAgICAgICAgICAgICAgaWYoZGF0YS5lcnJvciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5lcnJvcik7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihkYXRhLm1lc3NhZ2UgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKCgpPT57ICAgICAKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOyAgICAgCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fmsYLlj5HpgIHlpLHotKUnKTsKICAgICAgICB9KQoKICAgICAgfQogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <el-card class=\"box-card loginPosition\" style=\"width: 380px\">\n      <div slot=\"header\" class=\"clearfix myheader\" style=\"padding: 5px auto\">\n        <div class=\"title\" style=\"text-align: center; font-size: 20px; color: #E6A23C; font-weight: 700\">登录</div>\n      </div>\n      <!-- 用户名 -->\n      <div class=\"text item demo-input-size top-distance-small\">\n        <el-input placeholder=\"请输入用戶名\" \n          v-model=\"username\" \n          size=\"large\"\n          clearable maxlength=\"10\"\n          show-word-limit style=\"width: 90%\"\n          prefix-icon=\"el-icon-user-solid\">\n         </el-input>\n      </div>\n      <!-- 密码 -->\n      <div class=\"text item password-item demo-input-size\">\n        <el-input placeholder=\"请输入密码\"\n          v-model=\"password\"\n          show-password\n          maxlength=\"50\" show-word-limit style=\"width: 90%\"\n          prefix-icon=\"el-icon-unlock\">\n        </el-input>\n      </div>\n      <!-- 链接 -->\n      <div>\n        <el-link type=\"primary\" class=\"regist\" href=\"/register\">前往注册</el-link>\n        <el-link type=\"success\" class=\"forget\" href=\"/email\">忘了密码?</el-link>\n      </div>\n      <!-- 登录 -->\n      <div class=\"item\">\n        <el-button type=\"primary\" :loading=\"loading\" round @click=\"login\" class=\"loginStyle\">登录</el-button>\n      </div>\n      <el-divider class=\"top-distance-medium\"><span class=\"otherText\">社交账号登录</span></el-divider>\n      <!-- 社交账号登录 -->\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"space-around\">\n        <el-col :span=\"6\">\n          <div class=\"otherWay\" @click=\"loginByQQ\">\n            <svg t=\"1627799830708\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3286\" width=\"35\" height=\"35\"><path d=\"M511.999 1024a512 512 0 1 0-512-512 512 512 0 0 0 512 512z\" fill=\"#23A0F0\" p-id=\"3287\"></path><path d=\"M735.765 604.422c-3.55-49.47-36.192-90.932-55.09-112.47a70.383 70.383 0 0 0-15.577-67.003v-1.718c0-97.235-68.028-167.254-153.35-167.55-85.333 0.342-153.35 70.315-153.35 167.55v1.718a70.383 70.383 0 0 0-15.576 67.003c-18.898 21.413-51.54 62.874-55.09 112.47a75.39 75.39 0 0 0 7.554 40.425c7.555 10.308 28.513-2.06 43.406-34.93a210.33 210.33 0 0 0 35.499 67.914c-36.307 8.477-46.729 44.897-34.475 64.853 8.59 14.086 28.445 25.657 62.419 25.657 60.473 0 87.267-16.611 99.18-28.057a16.259 16.259 0 0 1 20.844 0c11.913 11.57 38.684 28.057 99.18 28.057 34.02 0 53.715-11.57 62.419-25.657 12.253-19.922 1.831-56.342-34.475-64.853a211.627 211.627 0 0 0 35.499-67.914c14.893 32.87 35.85 45.124 43.406 34.93a76.493 76.493 0 0 0 7.577-40.425z\" fill=\"#FFFFFF\" p-id=\"3288\"></path></svg>\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"otherWay\" @click=\"loginByWeChat\">\n            <svg t=\"1627799909660\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4116\" width=\"40\" height=\"40\"><path d=\"M544.059897 959.266898h-64.949141c-228.633593 0-415.697442-187.063849-415.697442-415.697442v-64.949141c0-228.633593 187.063849-415.697442 415.697442-415.697442h64.949141c228.633593 0 415.697442 187.063849 415.697442 415.697442v64.949141C959.756315 772.203049 772.692466 959.266898 544.059897 959.266898z\" fill=\"#2DC100\" p-id=\"4117\"></path><path d=\"M618.871102 424.812069c-52.6789 2.760395-98.49572 18.754507-135.696546 54.89766-37.587854 36.50356-54.743053 81.262707-50.047514 136.728622-20.586238-2.580191-39.34177-5.366183-58.19969-6.965492-6.552866-0.516038-14.292415 0.258019-19.786584 3.353224-18.316285 10.318716-35.858512 22.030941-56.703793 35.085479 3.818068-17.284208 6.294847-32.505287 10.680148-47.029101 3.173021-10.732366 1.702721-16.691379-8.152175-23.65687-63.256659-44.73355-89.905323-111.652647-69.963108-180.584703 18.470891-63.720479 63.798295-102.417201 125.376806-122.539619 84.100917-27.500536 178.52055 0.567232 229.651335 67.409538 18.733006 24.012159 30.112467 52.935895 32.763306 83.275665L618.871102 424.812069zM737.231222 753.7854c-16.691379-7.429312-31.989249-18.574304-48.241381-20.302622-16.252132-1.702721-33.330539 7.687331-50.305534 9.416673-51.724639 5.288368-98.0319-9.132033-136.263778-44.526725-72.646712-67.331723-62.275777-170.522981 21.799542-225.730878 74.736462-49.015438 184.324956-32.659894 237.003856 35.342474 45.971427 59.386373 40.55405 138.198922-15.55589 188.066232-16.252132 14.447022-22.108756 26.313853-11.686627 45.32638 1.909546 3.508855 2.140944 7.94535 3.250836 12.382869L737.231222 753.7854zM376.397651 403.348361c0.516038-12.640888-10.422129-23.991681-23.373254-24.353112-13.025869-0.533444-24.017278 9.593805-24.550722 22.619674-0.003072 0.078839-0.006143 0.158702-0.008191 0.237542-0.512967 12.869215 9.503704 23.719327 22.372918 24.232294 0.238565 0.009215 0.477131 0.015358 0.715696 0.017406C364.663926 426.584415 375.730078 416.448974 376.397651 403.348361zM502.909946 378.995249c-13.00232 0.258019-23.991681 11.350793-23.733662 23.99168 0.280545 13.104708 11.131681 23.50124 24.23639 23.220696 0.038908-0.001024 0.077815-0.002048 0.116723-0.003072 12.865119 0.104436 23.379398-10.239877 23.483834-23.104996 0.002048-0.278497 0-0.556994-0.008192-0.835491-0.109556-12.96546-10.708817-23.386565-23.673252-23.277009C503.191515 378.989105 503.050218 378.991153 502.909946 378.995249zM547.334283 569.640648c10.628954 0 19.348361-8.332379 19.760986-18.832323 0.384981-10.920761-8.15627-20.086582-19.077031-20.471563-0.176108-0.006143-0.352217-0.010239-0.529349-0.011262-11.041579 0.069624-19.937095 9.076743-19.867471 20.118322 0.001024 0.08703 0.002048 0.175084 0.003072 0.262115C528.092406 561.263219 536.764714 569.595597 547.334283 569.640648zM669.743869 530.351097c-10.452845 0.086006-19.011503 8.337498-19.477371 18.781128-0.570304 10.670933 7.617707 19.782488 18.28864 20.352793 0.310237 0.016382 0.620475 0.025597 0.930712 0.027645 10.654551 0 19.090342-8.07436 19.47737-18.703314 0.528325-10.772298-7.776409-19.934023-18.548706-20.462348-0.223207-0.011263-0.447438-0.01843-0.670645-0.021501V530.351097z\" fill=\"#FFFFFF\" p-id=\"4118\"></path></svg>\n          </div>\n        </el-col>\n      </el-row>\n    </el-card>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      isLoging: false\n    }\n  },\n  methods: {\n      loginByQQ: function(){  //QQ登录\n        this.$message({\n          // showClose: true,\n          message: 'QQ登录暂未开启，尽敬请期待',\n          type: 'warning'\n        });\n      },\n      loginByWeChat: function(){  //微信登录\n        this.$message({\n          // showClose: true,\n          message: '微信登录暂未开启，尽敬请期待',\n          type: 'warning'\n        });\n      },\n      login: function(){  //登录方法\n        this.loading = true;\n        if(this.username == '') {\n          this.$message.error('请输入用户名');\n          this.loading = false;\n          return;\n        }else if(this.password == '') {\n          this.$message.error('请输入密码');\n          this.loading = false;\n          return;\n        }\n        this.axios({\n            url: '/login',   \n            method: 'post',      \n            data: {              \n            username: this.username,\n            password: this.password\n            }\n        }).then(res=>{  \n            this.isLoging = true;\n            this.loading = false; \n            let data = res.data;       \n            if(data.success) {\n                this.$message({\n                  message: '登录成功',\n                  type: 'success'\n                });\n                //将需要的权限等信息存入session\n                this.$session.set(\"role\",data.role);\n                this.$session.set(this.username+\"isLogin\",true);\n                this.$session.set(\"username\",this.username);\n                console.log(\"role    \" +  this.$session.get(\"role\"));\n                console.log(\"isLogin    \" +  this.$session.get(this.username+\"isLogin\"));\n                this.$emit('confirm',this.isLoging)\n                // this.$router.replace({path: '/'});  //跳转到首页\n            }else {\n                this.password = '';\n                if(data.error != null) {\n                  this.$message.error(data.error);\n                }else if(data.message != null) {\n                  this.$message.error(data.message);\n                }\n                \n            }\n        }).catch(()=>{     \n          this.loading = false;     \n          this.$message.error('请求发送失败');\n        })\n\n      }\n  }\n}\n</script>\n \n<style>\n .container {\n    position: relative;\n    width: 400px;\n    text-align:center;\n    margin:10% auto;\n  }\n\n  .loginPosition {\n    position: absolute;\n    margin-left: 10%;\n  }\n\n .text {\n    font-size: 14px;\n  }\n\n  .item {\n    margin-bottom: 20px;\n  }\n\n  .password-item {\n    margin-bottom: 10px !important;\n  }\n\n  .regist {\n    right: 27%\n  }\n\n  .forget {\n    left: 28%\n  }\n\n  .loginStyle {\n    width: 300px;\n    margin-top: 20px !important;\n  }\n\n  .top-distance-medium {\n    margin-top: 40px !important;\n  }\n\n  .top-distance-small {\n    margin-top: 10px !important;\n  }\n\n  .otherWay {\n    width: auto;\n    height: auto;\n  }\n\n  .otherWay:hover {\n    cursor: pointer;\n  }\n\n  .otherText {\n    height: 13px !important;\n    font-size: 12px !important;\n    color: #b5b5b5 !important;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    width: 480px;\n  }\n</style>\n"]}]}