{"remainingRequest":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanmenghui/Desktop/base_project/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wanmenghui/Desktop/base_project/src/components/Register.vue","mtime":1657704494757},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtZDUgZnJvbSAnbWQ1JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdGVyIiwKICBsYXlvdXQ6ICJibGFuayIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXR1c01zZzogJycsCiAgICAgIGVycm9yOiAnJywKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwd2Q6ICcnLAogICAgICAgIGNwd2Q6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGVtYWlsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgq7nrrEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSx7CiAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgdmFyIHJlZz0vXltBLVphLXowLTlcdTRlMDAtXHU5ZmE1XStAW2EtekEtWjAtOV8tXSsoXC5bYS16QS1aMC05Xy1dKykrJC87CiAgICAgICAgICAgIGlmKCFyZWcudGVzdCh2YWx1ZSkpewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5pyJ5pWI55qE6YKu566xJykpOwogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcHdkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNwd2Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfnoa7orqTlr4bnoIHmnInor6/vvIzor7fph43mlrDovpPlhaUnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WGjeasoei+k+WFpeWvhueggScpKQogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB0aGlzLnJ1bGVGb3JtLnB3ZCkgewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0JykpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VuZE1zZygpIHsKICAgICAgY29uc3Qgc2VsZiA9IHRoaXMKICAgICAgbGV0IG5hbWVQYXNzCiAgICAgIGlmIChzZWxmLnRpbWVyaWQpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlRmllbGQoJ25hbWUnLCB2YWxpZCA9PiB7CiAgICAgICAgbmFtZVBhc3MgPSB2YWxpZAogICAgICB9KQogICAgICBzZWxmLnN0YXR1c01zZyA9ICcnCiAgICAgIGlmIChuYW1lUGFzcykgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIAogICAgfSwKICAgIHJlZ2lzdGVyKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBzZWxmLmF4aW9zKHsKICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJywgICAKICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsICAgICAgCiAgICAgICAgICAgIGRhdGE6IHsgICAgICAgICAgICAgIAogICAgICAgICAgICB1c2VybmFtZTogc2VsZi5ydWxlRm9ybS5uYW1lLAogICAgICAgICAgICBwYXNzd29yZDogbWQ1KHNlbGYucnVsZUZvcm0ucHdkKSwKICAgICAgICAgICAgZW1haWw6c2VsZi5ydWxlRm9ybS5lbWFpbAogICAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihyZXM9PnsgIAogICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOyAgICAgICAKICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBzZWxmLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+azqOWGjOaIkOWKnycsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9sb2dpbid9KTsgIC8v6Lez6L2s5Yiw55m75b2V6aG1CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIGlmKGRhdGEuZXJyb3IgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBzZWxmLiRtZXNzYWdlLmVycm9yKGRhdGEuZXJyb3IpOwogICAgICAgICAgICAgICAgfWVsc2UgaWYoZGF0YS5tZXNzYWdlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgc2VsZi4kbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <el-card class=\"box-card\" style=\"width: 380px\">\n      <div slot=\"header\" class=\"clearfix myheader\" style=\"padding: 5px auto\">\n        <div class=\"title\" style=\"text-align: center; font-size: 20px; color: #E6A23C; font-weight: 700\">注册</div>\n      </div>\n    <section>\n      <el-form\n        :model=\"ruleForm\"\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        label-width=\"100px\"\n        class=\"demo-ruleForm\">\n        <div class=\"text item demo-input-size top-distance-small\">\n        <el-form-item label=\"用户名\" prop=\"name\">\n          <el-input v-model=\"ruleForm.name\"\n           size=\"large\"\n           maxlength=\"18\"\n           placeholder=\"请输入用戶名\"\n           prefix-icon=\"el-icon-user-solid\"></el-input>\n        </el-form-item>\n        </div>\n        <el-form-item label=\"密码\" prop=\"pwd\">\n          <el-input v-model=\"ruleForm.pwd\" type=\"password\"\n          placeholder=\"请输入密码\"\n          show-password\n          maxlength=\"50\" show-word-limit \n          prefix-icon=\"el-icon-unlock\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"cpwd\">\n          <el-input v-model=\"ruleForm.cpwd\" type=\"password\"\n          placeholder=\"请再次输入密码\"\n          show-password\n          maxlength=\"50\" show-word-limit \n          prefix-icon=\"el-icon-unlock\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"ruleForm.email\"\n          placeholder=\"请输入邮箱\"\n          maxlength=\"50\" show-word-limit \n          prefix-icon=\"el-icon-message\"></el-input>\n        </el-form-item>\n        <el-form-item>\n        <div style=\"margin-left:-80px\">\n          <el-button class=\"loginStyle\"\n            type=\"primary\"\n            @click=\"register\">\n            注册\n          </el-button>\n          </div>\n          <div class=\"error\">{{ error }}</div>\n        </el-form-item>\n      </el-form>\n    </section>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport md5 from 'md5'\nexport default {\n  name: \"Register\",\n  layout: \"blank\",\n  data() {\n    return {\n      statusMsg: '',\n      error: '',\n      ruleForm: {\n        name: '',\n        pwd: '',\n        cpwd: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          type: 'string',\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          type: 'string',\n          message: '请输入邮箱',\n          trigger: 'blur'\n        },{\n          validator: (rule, value, callback) => {\n            var reg=/^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n            if(!reg.test(value)){\n              callback(new Error('请输入有效的邮箱'));\n            }else {\n              callback()\n            }\n          },\n          trigger: 'blur'\n        }],\n        pwd: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        cpwd: [{\n          required: true,\n          message: '确认密码有误，请重新输入',\n          trigger: 'blur'\n        }, {\n          validator: (rule, value, callback) => {\n            if (value === '') {\n              callback(new Error('请再次输入密码'))\n            } else if (value !== this.ruleForm.pwd) {\n              callback(new Error('两次输入密码不一致'))\n            } else {\n              callback()\n            }\n          },\n          trigger: 'blur'\n        }]\n      }\n    }\n  },\n  methods: {\n    sendMsg() {\n      const self = this\n      let namePass\n      if (self.timerid) {\n        return false\n      }\n      this.$refs.ruleForm.validateField('name', valid => {\n        namePass = valid\n      })\n      self.statusMsg = ''\n      if (namePass) {\n        return false\n      }\n      \n    },\n    register() {\n      let self = this\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          self.axios({\n            url: '/register',   \n            method: 'post',      \n            data: {              \n            username: self.ruleForm.name,\n            password: md5(self.ruleForm.pwd),\n            email:self.ruleForm.email\n            }\n        }).then(res=>{  \n            let data = res.data;       \n            if(data.success) {\n                self.$message({\n                  message: '注册成功',\n                  type: 'success'\n                });\n                self.$router.push({path: '/login'});  //跳转到登录页\n            }else {\n                if(data.error != null) {\n                  self.$message.error(data.error);\n                }else if(data.message != null) {\n                  self.$message.error(data.message);\n                }\n                \n            }\n        })\n        }\n      })\n    }\n  }\n}\n\n</script>\n\n<style >\n.container {\n    width: 400px;\n    text-align:center;\n    margin:15% auto;\n  }\n\n .text {\n    font-size: 14px;\n  }\n\n  .item {\n    margin-bottom: 20px;\n  }\n\n  .password-item {\n    margin-bottom: 10px !important;\n  }\n\n  .regist {\n    right: 27%\n  }\n\n  .forget {\n    left: 28%\n  }\n\n  .loginStyle {\n    width: 200px;\n    margin-top: 20px !important;\n  }\n\n  .top-distance-medium {\n    margin-top: 40px !important;\n  }\n\n  .top-distance-small {\n    margin-top: 10px !important;\n  }\n\n  .otherWay {\n    width: auto;\n    height: auto;\n  }\n\n  .otherWay:hover {\n    cursor: pointer;\n  }\n\n  .otherText {\n    height: 13px !important;\n    font-size: 12px !important;\n    color: #b5b5b5 !important;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    width: 480px;\n  }\n\n</style>\n"]}]}