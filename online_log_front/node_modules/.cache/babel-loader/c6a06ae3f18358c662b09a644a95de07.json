{"remainingRequest":"/Users/wanmenghui/Desktop/base_project/node_modules/babel-loader/lib/index.js!/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanmenghui/Desktop/base_project/src/components/Email.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wanmenghui/Desktop/base_project/src/components/Email.vue","mtime":1657704494757},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wanmenghui/Desktop/base_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRW1haWwnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIC8v6YKu566x5YaF5a65CiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIC8v6K6+572u6L6T5YWl5qGG6IO95ZCm57yW6L6RCiAgICAgIGFjdGl2ZTogMSwKICAgICAgLy/lvZPliY3lpITkuo7lk6rkuKrmtYHnqIsKICAgICAgZmlsbFN0YXR1czogImZpbmlzaCIsCiAgICAgIC8v6K6+572u54q25oCBCiAgICAgIHNlbmRTdGF1czogIndhaXQiLAogICAgICBpc05leHQ6IHRydWUgLy/mjqfliLbkuIvkuIDmraUg5piv5ZCm5YWI5omLCgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5LiK5LiA5q2l5oyJ6ZKu5omn6KGM5pa55rOV77yM5Yiw6L6+5pyA5YmN77yM5YiZ55u05o6l6L+U5Zue5Yiw55m75b2V6aG1CiAgICBwcmV2aW91U3RlcDogZnVuY3Rpb24gcHJldmlvdVN0ZXAoKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PSAxKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgICB9KTsgLy/ot7PovazliLDnmbvlvZXpobUKICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZSA9PSAyKSB7CiAgICAgICAgdGhpcy5hY3RpdmUtLTsKICAgICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNOZXh0ID0gdHJ1ZTsKICAgICAgICB0aGlzLmZpbGxTdGF0dXMgPSAiZmluaXNoIjsKICAgICAgICB0aGlzLnNlbmRTdGF1cyA9ICJ3YWl0IjsKICAgICAgfQogICAgfSwKICAgIGZvcmdldFBhc3N3b3JkOiBmdW5jdGlvbiBmb3JnZXRQYXNzd29yZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8v6YKu566x5b+F6L6T77yM5LiN54S25LiN54S25LiL5LiA5q2lCiAgICAgIGlmICh0aGlzLmVtYWlsID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6YKu566x5pyq5aGr5YaZJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8v5qC55o2u5omA5aSE5rWB56iL5Yik5pat5piv5ZCm5Y+R6YCB6K+35rGCCgoKICAgICAgaWYgKHRoaXMuYWN0aXZlIDw9IDEpIHsKICAgICAgICB0aGlzLmFjdGl2ZSsrOwogICAgICAgIHRoaXMuZmlsbFN0YXR1cyA9ICJzdWNjZXNzIjsKICAgICAgICB0aGlzLnNlbmRTdGF1cyA9ICJmaW5pc2giOwogICAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsgLy/pgq7nrrHovpPlhaXmoYborr7nva7kuLrkuI3lj6/nvJbovpEKICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZSA9PSAyKSB7CiAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICB1cmw6ICcvZm9yZ2V0UGFzc3dvcmQnLAogICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAvL+ivt+axguaIkOWKn++8jOWImeaUueWPmOa1geeoi+eKtuaAge+8jOaYvuekuuaPkOekuuS/oeaBryzpmpDol4/kuIvkuIDmraXmjInpkq7vvIzoi6XmoLnmja7pgq7nrrHmn6XkuI3liLDkv6Hmga/vvIzliJnnm7TmjqXmipvlh7rplJnor6/mj5DnpLoKICAgICAgICAgIGRlYnVnZ2VyOwogICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIF90aGlzLmlzTmV4dCA9IGZhbHNlOwoKICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEudGlwLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzLnNlbmRTdGF1cyA9ICJzdWNjZXNzIjsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlICE9ICIiKSB7CiAgICAgICAgICAgIF90aGlzLnNlbmRTdGF1cyA9ICJlcnJvciI7CgogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnNlbmRTdGF1cyA9ICJlcnJvciI7CgogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+axguWPkemAgeWksei0pScpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Email.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AACA;AACA,MAAA,MAAA,EAAA,KAFA;AAEA;AACA,MAAA,MAAA,EAAA,CAHA;AAGA;AACA,MAAA,UAAA,EAAA,QAJA;AAIA;AACA,MAAA,SAAA,EAAA,MALA;AAMA,MAAA,MAAA,EAAA,IANA,CAMA;;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAAA,EAAA,uBAAA;AACA,UAAA,KAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,OAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,EADA,CACA;AACA,OAFA,MAEA,IAAA,KAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,MAAA;AACA,aAAA,MAAA,GAAA,KAAA;AACA,aAAA,MAAA,GAAA,IAAA;AACA,aAAA,UAAA,GAAA,QAAA;AACA,aAAA,SAAA,GAAA,MAAA;AACA;AACA,KAZA;AAaA,IAAA,cAAA,EAAA,0BAAA;AAAA;;AACA;AACA,UAAA,KAAA,KAAA,IAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,OAAA;AACA;AACA,OALA,CAMA;;;AACA,UAAA,KAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,MAAA;AACA,aAAA,UAAA,GAAA,SAAA;AACA,aAAA,SAAA,GAAA,QAAA;AACA,aAAA,MAAA,GAAA,IAAA,CAJA,CAIA;AACA,OALA,MAKA,IAAA,KAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA;AACA,UAAA,GAAA,EAAA,iBADA;AAEA,UAAA,MAAA,EAAA,MAFA;AAGA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,EAAA,KAAA;AADA;AAHA,SAAA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA;AACA;AACA,cAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,KAAA;;AACA,cAAA,IAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AACA,cAAA,OAAA,EAAA,IAAA,CAAA,GADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;;AAIA,YAAA,KAAA,CAAA,SAAA,GAAA,SAAA;AACA,WANA,MAMA,IAAA,IAAA,CAAA,OAAA,IAAA,EAAA,EAAA;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,OAAA;;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,SArBA,EAqBA,KArBA,CAqBA,YAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,OAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA;AACA,SAxBA;AA0BA;AACA;AArDA;AAZA,CAAA","sourcesContent":["<template>\n\n    <div class=\"navigation\">\n        <el-steps :space=\"200\" :active=\"active\" finish-status=\"success\" align-center=\"true\" style=\"margin-bottom: 50px;\">\n            <el-step title=\"载入页面\"></el-step>\n            <el-step title=\"邮箱填写\" :status=\"fillStatus\"></el-step>\n            <el-step title=\"邮件发送\" :status=\"sendStaus\"></el-step>\n        </el-steps>\n\n        <div>\n            <el-input\n            placeholder=\"请输入邮箱\"\n            v-model=\"email\"\n            clearable\n            :disabled=\"isEdit\"\n            prefix-icon=\"el-icon-receiving\"\n            style=\"width: 32%; margin-left: 6%\">\n            </el-input>\n        </div>\n        <div style=\"margin-top: 50px; margin-left: 6%\">\n            <el-button type=\"success\" icon=\"el-icon-caret-left\" @click=\"previouStep\">上一步</el-button>\n            <el-button type=\"success\" icon=\"el-icon-caret-right\" @click=\"forgetPassword\" v-if=\"isNext\" style=\"margin-left: 19%\">下一步</el-button>\n        </div>\n    </div>   \n</template>\n\n<script>\n\nexport default {\n  name: 'Email',\n  data() {\n    return {\n      email: \"\",//邮箱内容\n      isEdit: false,//设置输入框能否编辑\n      active: 1,//当前处于哪个流程\n      fillStatus: \"finish\",//设置状态\n      sendStaus: \"wait\",\n      isNext: true//控制下一步 是否先手\n    }\n  },\n  methods: {\n      //上一步按钮执行方法，到达最前，则直接返回到登录页\n      previouStep: function() {  \n          if(this.active == 1) {\n            this.$router.replace({path: '/login'});//跳转到登录页\n          }else if(this.active == 2) {\n            this.active--;\n            this.isEdit = false;\n            this.isNext = true;\n            this.fillStatus = \"finish\";\n            this.sendStaus = \"wait\";\n          }      \n      },\n      forgetPassword: function(){\n        //邮箱必输，不然不然下一步\n        if(this.email == \"\") {\n            this.$message.error('邮箱未填写');\n            return;\n        }\n        //根据所处流程判断是否发送请求\n        if(this.active <= 1) {\n            this.active++;\n            this.fillStatus = \"success\";\n            this.sendStaus = \"finish\";\n            this.isEdit = true;//邮箱输入框设置为不可编辑\n        }else if(this.active == 2) {         \n            this.axios({\n                url: '/forgetPassword',   \n                method: 'post',      \n                data: {              \n                    email: this.email\n                }\n            }).then(res=>{\n                //请求成功，则改变流程状态，显示提示信息,隐藏下一步按钮，若根据邮箱查不到信息，则直接抛出错误提示\n                debugger;\n                let data = res.data;\n                this.isNext = false;\n                if(data.success) {\n                    this.$message({\n                        message: data.tip,\n                        type: 'success'\n                    });\n                    this.sendStaus = \"success\";\n                }else if(data.message != \"\") {\n                    this.sendStaus = \"error\";\n                    this.$message.error(data.message);\n                }\n            }).catch(()=>{\n                this.sendStaus = \"error\";\n                this.$message.error('请求发送失败');\n            })\n\n        }\n      }\n  }\n}\n</script>\n\n<style>\n    .navigation {\n        margin: 10% auto 50px auto;\n        padding-left: 30%;\n      \n    }\n</style>"],"sourceRoot":"src/components"}]}